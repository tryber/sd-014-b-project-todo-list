<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To do List Project - Tiago Ponce</title>
    <link rel='stylesheet' href='style.css'>
</head>
<body>
    
    <header>Minha Lista de Tarefas</header>

    <div>
        <p id="funcionamento">Clique duas vezes em um item para marc√°-lo como completo</p>
    </div>

    <div>
        <input id="texto-tarefa"> 
    </div>

    <div>
        <ol id='lista-tarefas'>

        </ol>
    </div>

    <div>
        <button id='criar-tarefa'>Criar Tarefa</button>
    </div>

    <div>
        <button id='apaga-tudo'>Apagar Tudo</button>
    </div>

    <div>
        <button id='remover-finalizados'>Remover finalizados</button>
    </div>


    <script>

        

        function createList () {
            let addList = document.getElementById('lista-tarefas');

            let newLi = document.createElement('li');

            newLi.innerText = document.getElementById('texto-tarefa').value;

            addList.appendChild(newLi)

            newLi.className = 'list-tasks';

            document.getElementById('texto-tarefa').value = ''

            let addListTask = document.querySelectorAll('.list-tasks');

            for (let i = 0; i < addListTask.length ; i+= 1) {
            addListTask[i].addEventListener('click', changeBackGroundColor);
            }

            for (let i = 0 ; i < addListTask.length ; i += 1) {
                addListTask[i].addEventListener('dblclick', riskTask);

            }

            let addButSecond = document.getElementById('apaga-tudo');

            addButSecond.addEventListener('click', apagaTudo);

            let AddButCompleted = document.getElementById('remover-finalizados');

            AddButCompleted.addEventListener('click', removeFinalizados);



        }

        function changeBackGroundColor (event) {
            event.target.style.backgroundColor = '(rgb(128, 128, 128))';
            
        }


        let addButton = document.getElementById('criar-tarefa');

        addButton.addEventListener('click', createList);

        

        function changeBackGroundColor (event) { 

            addListTask = document.querySelectorAll('.list-tasks');
            for (let i = 0; i < addListTask.length ; i+= 1) {
                
                if (addListTask[i].style.backgroundColor ===  'rgb(128 , 128 , 128)' );
                    addListTask[i].style.backgroundColor = '';
            }   
            event.target.style.backgroundColor = 'rgb(128 , 128 , 128)';

        }   

      

       function riskTask (event ) {
           if (event.target.className === 'list-tasks completed') {
            event.target.classList.remove('completed');
           } else
            event.target.classList.add("completed");
       }



        function apagaTudo () {
            let addElements = document.getElementsByTagName('li');
            let addOs = document.getElementById('lista-tarefas');
            let comprimento = addElements.length;
            for (let i = 0 ; i < comprimento ; i+= 1)  {
                let element = addElements[0];
                addOs.removeChild(element);
           } 
        }

        function removeFinalizados () {
            let addElements = document.getElementsByClassName('completed')
            let addOs = document.getElementById('lista-tarefas');
            let comprimento = addElements.length;
            for (let i = 0 ; i < comprimento; i += 1) {
                let element = addElements[0];
                addOs.removeChild(element);
            }


        }

        


            
       

    

      



    </script>
</body>
</html>